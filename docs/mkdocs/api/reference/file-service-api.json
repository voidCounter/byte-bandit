{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8081","description":"Generated server url"}],"tags":[{"name":"Item View","description":"Item view operations"},{"name":"Private Share","description":"Private share operations"},{"name":"Create Item","description":"Create item operations"},{"name":"Public Share","description":"Public share operations"},{"name":"Upload","description":"File upload operations"}],"paths":{"/view":{"get":{"tags":["Item View"],"summary":"Get all items of a user","description":"Retrieves all items associated with the authenticated user.","operationId":"getUserItems","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseItemViewResponse"}}}}}},"post":{"tags":["Item View"],"summary":"View item","description":"Handles the request to view an item. Returns the item view response.","operationId":"viewItem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemViewRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseItemViewResponse"}}}}}}},"/upload/presigned-url":{"post":{"tags":["Upload"],"summary":"Generate presigned URL for file upload","description":"Generates a presigned URL for uploading a file to S3.","operationId":"generateUploadPresignedUrl","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileNameRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/update/rename":{"post":{"tags":["update-item-controller"],"operationId":"renameItem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateItemRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/share/public":{"post":{"tags":["Public Share"],"summary":"Share item with public permission","description":"Handles the request to share an item with public permission.","operationId":"sharePublic","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicShareRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePublicShareResponse"}}}}}}},"/share/private":{"post":{"tags":["Private Share"],"summary":"Share item with private permission","description":"Handles the request to share an item with private permission.","operationId":"sharePrivate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ItemSharePrivateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseItemSharePrivateResponse"}}}}}}},"/create":{"post":{"tags":["Create Item"],"summary":"Create item","description":"Handles the request to create a new file system item.","operationId":"createItem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateItemRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseCreateItemResponse"}}}}}}},"/view/shared-with-me":{"get":{"tags":["Item View"],"summary":"Get all items shared with the user","description":"Retrieves all items that are shared with the authenticated user.","operationId":"getSharedWithMe","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListItemViewResponse"}}}}}}},"/view/me":{"get":{"tags":["Item View"],"operationId":"getUserHomeParent","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}}},"components":{"schemas":{"ItemViewRequest":{"type":"object","properties":{"itemId":{"type":"string"},"password":{"type":"string"}}},"ApiResponseItemViewResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ItemViewResponse"},"timestamp":{"type":"string"},"path":{"type":"string"}}},"ChildResponse":{"type":"object","properties":{"item_id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"owner_email":{"type":"string"},"shared_by_email":{"type":"string"},"item_type":{"type":"string"},"is_item_password_protected":{"type":"boolean"},"name":{"type":"string"},"s3url":{"type":"string"},"mime_type":{"type":"string"},"is_starred":{"type":"string"},"parent_id":{"type":"string","format":"uuid"},"size":{"type":"integer"},"permission":{"type":"string"}}},"ItemViewResponse":{"type":"object","properties":{"itemId":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"ownerEmail":{"type":"string"},"sharedByEmail":{"type":"string"},"itemType":{"type":"string"},"isItemPasswordProtected":{"type":"boolean"},"name":{"type":"string"},"s3Url":{"type":"string"},"mimeType":{"type":"string"},"isStarred":{"type":"string"},"parentId":{"type":"string","format":"uuid"},"permission":{"type":"string"},"size":{"type":"integer"},"children":{"type":"array","items":{"$ref":"#/components/schemas/ChildResponse"}}}},"FileNameRequest":{"type":"object","properties":{"fileName":{"type":"string"}}},"ApiResponseString":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"string"},"timestamp":{"type":"string"},"path":{"type":"string"}}},"UpdateItemRequest":{"required":["itemId","name"],"type":"object","properties":{"name":{"type":"string"},"itemId":{"type":"string"}}},"PublicShareRequest":{"required":["itemId","permission"],"type":"object","properties":{"itemId":{"type":"string","format":"uuid"},"permission":{"type":"string","enum":["viewer","editor","owner","no_access"]},"password":{"maxLength":64,"minLength":8,"type":"string"},"expiresAt":{"type":"string","format":"date-time"}}},"ApiResponsePublicShareResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PublicShareResponse"},"timestamp":{"type":"string"},"path":{"type":"string"}}},"PublicShareResponse":{"type":"object","properties":{"link":{"type":"string"},"permission":{"type":"string"}}},"ItemSharePrivateRequest":{"required":["itemId","permissions","sharedTo"],"type":"object","properties":{"itemId":{"type":"string"},"sharedTo":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"maxLength":2147483647,"minLength":1,"type":"string"}},"sharedByUserId":{"type":"string"},"permissions":{"maxItems":2147483647,"minItems":1,"type":"array","items":{"maxLength":2147483647,"minLength":1,"type":"string"}}}},"ApiResponseItemSharePrivateResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/ItemSharePrivateResponse"},"timestamp":{"type":"string"},"path":{"type":"string"}}},"ItemSharePrivateResponse":{"type":"object","properties":{"permissionForEachUser":{"type":"array","items":{"type":"string"}}}},"CreateItemRequest":{"required":["name"],"type":"object","properties":{"chunks":{"$ref":"#/components/schemas/JsonNode"},"mimeType":{"type":"string"},"name":{"type":"string"},"ownerId":{"type":"string","format":"uuid"},"s3Url":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"size":{"type":"integer","format":"int64"},"parentId":{"type":"string"}}},"JsonNode":{"type":"object"},"ApiResponseCreateItemResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/CreateItemResponse"},"timestamp":{"type":"string"},"path":{"type":"string"}}},"CreateItemResponse":{"type":"object","properties":{"itemId":{"type":"string"},"name":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"},"fileSize":{"type":"integer"},"status":{"type":"string"},"size":{"type":"integer","format":"int64"},"type":{"type":"string"},"parentId":{"type":"string"},"mimeType":{"type":"string"}}},"ApiResponseListItemViewResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ItemViewResponse"}},"timestamp":{"type":"string"},"path":{"type":"string"}}}}}}
